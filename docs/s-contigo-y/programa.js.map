{"version":3,"file":"programa.js","sources":["../../proyectos/s-contigo-y/utilidades/ayudas.js","../../proyectos/s-contigo-y/datos/urlsFondos.js","../../proyectos/s-contigo-y/componentes/fondo.js","../../proyectos/s-contigo-y/datos/urlsCapa2.js","../../proyectos/s-contigo-y/datos/urlsGifs.js","../../proyectos/s-contigo-y/datos/urlsAudios.js","../../proyectos/s-contigo-y/programa.js"],"sourcesContent":["export const url = 'https://juancgonzalez.com/labmoviles/suenos';\n\n// Función para producir un número aleatorio\nexport function aleatorio(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport function crearCapaVideo(bloque, urls) {\n  const vid = document.createElement('video');\n  const i = elementoAleatorio(urls, bloque);\n\n  vid.autoplay = true;\n  vid.muted = true;\n  vid.setAttribute('playsinline', true);\n  vid.src = urls[i];\n  vid.width = aleatorio(window.innerWidth / 8, window.innerWidth / 2.5);\n  vid.height = aleatorio(window.innerWidth / 8, window.innerHeight / 2.5);\n\n  vid.style.filter = 'saturate(2.2)';\n  vid.style.filter = 'drop-shadow(0px 0px 50px black)';\n\n  Object.assign(vid.style, {\n    position: 'fixed',\n    top: aleatorio(-100, window.innerHeight / 2) + 'px',\n    left: aleatorio(-100, window.innerWidth / 2) + 'px',\n    zIndex: 9,\n    opacity: aleatorio(0.7, 1),\n  });\n\n  bloque.contenedor.appendChild(vid);\n\n  vid.onended = () => {\n    bloque.contenedor.removeChild(vid);\n  };\n\n  return vid;\n}\n\nexport function crearCapaImg(bloque, urls) {\n  const i = elementoAleatorio(urls, bloque);\n  const img = new Image();\n  img.className = 'gif';\n  img.width = aleatorio(window.innerWidth / 8, window.innerWidth);\n  img.height = aleatorio(window.innerWidth / 8, window.innerHeight);\n\n  img.style.filter = 'grayscale(100)';\n  Object.assign(img.style, {\n    position: 'fixed',\n    top: aleatorio(0, window.innerHeight / 2.5) + 'px',\n    left: aleatorio(0, window.innerWidth / 2.5) + 'px',\n    zIndex: 9,\n    //  width: aleatorio(200, window.innerWidth/3),\n    //height: 'auto',\n    opacity: 0.7,\n    //filter:invert(75%);\n    //\n  });\n\n  img.onload = () => {\n    bloque.contenedor.appendChild(img);\n\n    let intervalo = setInterval(() => {\n      clearInterval(intervalo);\n      bloque.contenedor.removeChild(img);\n    }, aleatorio(10000, 15000));\n  };\n  img.src = urls[i];\n\n  return img;\n}\n\nexport function crearCapaAudio(bloque, urls) {\n  let contador = 0;\n  const reproducirXVeces = aleatorio(1, 5);\n  const audio = document.createElement('audio');\n  const i = elementoAleatorio(urls, bloque);\n  audio.autoplay = true;\n  audio.volume = 0.5;\n  audio.src = urls[i];\n\n  //OJO\n  //bloque.contenedor.appendChild(audio);\n\n  audio.onended = () => {\n    contador += 1;\n    console.log(reproducirXVeces, contador);\n    if (reproducirXVeces === contador) {\n      console.log('destruyendo audio, ya termino');\n      audio.parentNode.removeChild(audio);\n    } else {\n      audio.play();\n    }\n    //console.log(contador);\n  };\n  console.log('audio: ' + contador + audio.src);\n}\n\nexport function elementoAleatorio(urls, actual) {\n  const i = aleatorio(0, urls.length);\n\n  if (i === actual) {\n    // Si esa posición es la que actualmente se esta usando, volvemos a correr la función sin cambiar el video.\n    return elementoAleatorio(urls, actual);\n  }\n\n  return i;\n}\n\nexport function siguienteVideo() {\n  // Un poquito de matemática para pasar por los videos en orden:\n  // 1. videoActual empieza en posición 0.\n  // 2. sumamos 1 a videoActual cada que entramos a esta función (videoActual + 1).\n  // 3. Si llega al final del array, volvemos al primero (% videos.length).\n  // (% videos.length) lo que esta haciendo es basicamente revisando cuantos elementos hay en el array y si llega al final (videos.length) no sume 1 sino que se devuelve a 0.\n  // Nota: Puedes sumar todos los videos que quieras al array \"videos\" y esta función siempre va saltando en orden.\n  videoActual = (videoActual + 1) % videosFondo.length;\n  // Sabiendo en que posición del array debe estar, ponemos esa URL en el video.\n  videoFondo.src = videosFondo[videoActual];\n}\n\nexport function desaparece(elmnt, clr) {\n  elmnt.style.color = clr;\n  console.log('hola');\n}\n","import { url } from '../utilidades/ayudas';\n\nexport default [\n  `${url}/capa1/nuevos_f/arboles_noche.mp4`,\n  `${url}/capa1/nuevos_f/arboles_niebla.mp4`,\n  `${url}/capa1/nuevos_f/arbol_fiesta.mp4`,\n  `${url}/capa1/nuevos_f/baile_azul.mp4`,\n  `${url}/capa1/nuevos_f/escalator.mp4`,\n  `${url}/capa1/nuevos_f/filtro_panuelo.mp4`,\n  `${url}/capa1/nuevos_f/hierbas_blancas.mp4`,\n  `${url}/capa1/nuevos_f/lagarto_brillante.mp4`,\n  `${url}/capa1/nuevos_f/luz_avion.mp4`,\n  `${url}/capa1/nuevos_f/puntos_danzan_1_nuevo.mp4`,\n  `${url}/capa1/nuevos_f/puntos_danzan_3_nuevo.mp4`,\n  `${url}/capa1/nuevos_f/puntos_danzan_4_nuevo.mp4`,\n  `${url}/capa1/nuevos_f/ti_punch.mp4`,\n  `${url}/capa1/nuevos_f/sombra_planta_1.mp4`,\n];\n","import { elementoAleatorio } from '../utilidades/ayudas';\nimport videosFondo from '../datos/urlsFondos';\n\nconst contenedor = document.getElementById('fondo');\nconst video = document.getElementById('videoFondo');\nconst titulo = document.getElementById('titulo');\n\nlet mostrarTitulo = true;\nlet actual = 0;\nlet anchoPantalla = 0;\nlet altoPantalla = 0;\nlet anchoVideo = 0;\nlet altoVideo = 0;\n\nvideo.onloadedmetadata = () => {\n  anchoVideo = video.videoWidth;\n  altoVideo = video.videoHeight;\n\n  transformar();\n};\n\nvideo.src = 'https://juancgonzalez.com/labmoviles/suenos/capa0/sone_contigo_entrada.mp4';\n\ncontenedor.onclick = () => {\n  actual = elementoAleatorio(videosFondo, actual);\n  video.src = videosFondo[actual];\n\n  if (mostrarTitulo) {\n    titulo.classList.add('esconder');\n    mostrarTitulo = false;\n  }\n};\n\nfunction transformar() {\n  anchoPantalla = window.innerWidth;\n  altoPantalla = window.innerHeight;\n\n  const esHorizontal = anchoPantalla > altoPantalla;\n  const escalaAncho = anchoPantalla / (esHorizontal ? altoVideo : anchoVideo);\n  const escalaAlto = altoPantalla / (esHorizontal ? anchoVideo : altoVideo);\n  const escala = Math.max(escalaAncho, escalaAlto);\n\n  video.width = anchoVideo * escala;\n  video.height = altoVideo * escala;\n  const moverY = (video.height - Math.max(anchoPantalla, altoPantalla)) / 2;\n  const y = esHorizontal ? video.height - moverY : moverY;\n  const grados = esHorizontal ? '90deg' : '0deg';\n\n  Object.assign(video.style, {\n    transform: `rotate(${grados}) translateY(${-y}px)`,\n  });\n}\n\nexport default {\n  transformar: transformar,\n};\n","import { url } from '../utilidades/ayudas';\n\nexport default [\n  `${url}/capa2/distorsion_movimiento_1.mp4`,\n  `${url}/capa2/distorsion_movimiento_2.mp4`,\n  `${url}/capa2/tipo_gif_cuadrado.mp4`,\n  `${url}/capa2/tren.mp4`,\n  `${url}/capa2/agua.mp4.mp4`,\n  `${url}/capa2/angel_niebla.mp4`,\n  `${url}/capa2/arbole_niebla.mp4`,\n  `${url}/capa2/arbol_fiesta_mudo.mp4`,\n  `${url}/capa2/arbol_viento.mp4`,\n  `${url}/capa2/borbullas.mp4`,\n  `${url}/capa2/flores_color_gif.mp4`,\n  `${url}/capa2/flores_pb_gif_2.mp4`,\n  `${url}/capa2/foot_luz.mp4`,\n  `${url}/capa2/monstro.mp4`,\n  `${url}/capa2/open.mp4`,\n  `${url}/capa2/cortina_nb.mp4`,\n  `${url}/capa2/pixel.mp4`,\n  `${url}/capa2/pombos_1.mp4`,\n  `${url}/capa2/reflejo_pomba.mp4`,\n  `${url}/capa2/sao_paulo.mp4`,\n  `${url}/capa2/sone_contigo_film.mp4`,\n  `${url}/capa2/ventana_lluvia.mp4`,\n  `${url}/capa2/ventana_noche.mp4`,\n  `${url}/capa2/ventana_poligono.mp4`,\n  `${url}/capa2/ventana_puente.mp4`,\n  `${url}/capa2/ventana_roja.mp4`,\n  `${url}/capa2/ventana_tajo.mp4`,\n  `${url}/capa2/ventana_tren_1.mp4`,\n  `${url}/capa2/ventana_tren_2.mp4`,\n  `${url}/capa2/avion_navidad.mp4`,\n  `${url}/capa2/coche_aeropuerto.mp4`,\n  `${url}/capa2/sants_sol.mp4`,\n];\n","import { url } from '../utilidades/ayudas';\n\nexport default [\n  //Línea\n  `${url}/capa3/linea.gif`,\n  //Pesadilla\n  `${url}/capa3/pesadilla.gif`,\n  //Gotas\n  `${url}/capa3/gotas.gif`,\n  //Ojo\n  `${url}/capa3/ojo.gif`,\n  //Ondas\n  `${url}/capa3/onda.gif`,\n];\n","import { url } from '../utilidades/ayudas';\n\nexport default [\n  //voz - Fresques\n  `${url}/voces/fresques.mp3`,\n  //voz - Grand imper\n  `${url}/voces/grand_imper_bleu_roi.mp3`,\n  //je pense que c'etait maintenant le rêve\n  `${url}/voces/j_pense_que_c_etait_maintenant.mp3`,\n  //j trouvais\n  `${url}/voces/j_trouvais_ca_plus_moche.mp3`,\n  //1_1\n  `${url}/musica/1_1.mp3`,\n  //1_2\n  `${url}/musica/1_2.mp3`,\n  //2_1\n  `${url}/musica/2_1.mp3`,\n  //2_2\n  `${url}/musica/2_2.mp3`,\n  //2_3\n  `${url}/musica/2_3.mp3`,\n  //oiseaux de nuit\n  `${url}/sonidos/oiseaux_de_nuit.mp3`,\n  //distorsión 1\n  `${url}/sonidos/distorsion_1.mp3`,\n  //voces mix\n  `${url}/voces/voces_mix.mp3`,\n];\n","import './estilos.scss';\n\nimport fondo from './componentes/fondo';\nimport videosCapa2 from './datos/urlsCapa2';\nimport gifsCapa3 from './datos/urlsGifs';\nimport audiosCapa1 from './datos/urlsAudios';\n\nimport { crearCapaVideo, crearCapaImg, crearCapaAudio } from './utilidades/ayudas';\n\nconst bloques = {\n  capa2: {\n    contenedor: document.getElementById('capa2'),\n    btn: document.getElementById('capa2Btn'),\n    actual: 0,\n  },\n  capa3: {\n    contenedor: document.getElementById('gifCapa3'),\n    btn: document.getElementById('capa3Btn'),\n    actual: 0,\n  },\n  audios1: {\n    contenedor: document.getElementById('audioCapa1'),\n    btn: document.getElementById('audioCapa1Btn'),\n    actual: 0,\n  },\n};\n\nbloques.capa2.btn.onclick = () => {\n  crearCapaVideo(bloques.capa2, videosCapa2);\n};\n\nbloques.capa3.btn.onclick = () => {\n  crearCapaImg(bloques.capa3, gifsCapa3);\n};\n\nbloques.audios1.btn.onclick = () => {\n  crearCapaAudio(bloques.audios1, audiosCapa1);\n};\n\nwindow.onresize = () => {\n  console.log('cambio');\n  fondo.transformar();\n};\n\n// window.onorientationchange = () => {\n//   console.log('GIRO!', window.orientation);\n//   const video = bloques.fondo.contenedor.querySelector('video');\n\n//   video.style.transform = `rotate(${window.orientation}deg)`;\n\n//   cambioDeTamano(video);\n// };\n"],"names":["url","aleatorio","min","max","Math","floor","random","elementoAleatorio","urls","actual","i","length","contenedor","document","getElementById","video","titulo","mostrarTitulo","anchoPantalla","altoPantalla","anchoVideo","altoVideo","transformar","window","innerWidth","innerHeight","esHorizontal","escalaAncho","escalaAlto","escala","width","height","moverY","y","grados","Object","assign","style","transform","onloadedmetadata","videoWidth","videoHeight","src","onclick","videosFondo","classList","add","bloques","capa2","btn","capa3","audios1","bloque","vid","createElement","autoplay","muted","setAttribute","filter","position","top","left","zIndex","opacity","appendChild","onended","removeChild","crearCapaVideo","videosCapa2","img","Image","className","onload","intervalo","setInterval","clearInterval","crearCapaImg","gifsCapa3","contador","reproducirXVeces","audio","volume","console","log","parentNode","play","crearCapaAudio","audiosCapa1","onresize","fondo"],"mappings":"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"}